<!DOCTYPE html>
<html lang="en-US">
    <head>
        {% load static %}
        <link rel="stylesheet" href="{% static 'questioner/modelling.css' %}">
        <!-- Load pop-up alert when user trying to go back to index while modelling -->
        <script src="{% static 'questioner/modelling.js' %}" type="text/javascript"></script>
    </head>
    <body>
        <div id="navbar">
            <ul class="inline">
                <!-- Go back to index page -->
                <li><a href="{% url 'questioner:index' user.os_user_id %}" onclick="return confirm_alert()">Back to Home</a></li>
                <!-- Submit/Re-submit for evaluation -->
                {% if model_comparison or user.end_mid %} <!-- Failed at least once -->
                    <li><a href="{% url 'questioner:check' question.question_type question.question_id user.os_user_id %}">Re-submit</a></li>
                    <li><a href="{% url 'questioner:solution' question.question_type question.question_id user.os_user_id %}">Give Up & See Solution</a></li>
                {% else %}
                    <li><a href="{% url 'questioner:check' question.question_type question.question_id user.os_user_id %}">Submit</a></li>
                {% endif %}
                <!-- View CAD drawing in new tab -->
                <li><a href="https://cad.onshape.com/documents/{{ question.did }}/v/{{ question.vid }}/e/{{ question.os_drawing_eid }}/" target="_blank" rel="noopener noreferrer">Open Drawing in New Tab</a></li>
            </ul>
        </div>
        <div id="main">
            <!-- Print out model comparison table if inaccurate -->
            <div id="feedback">
                {% if model_comparison %}
                    {{ model_comparison|safe }}
                    <br /><br />
                {% endif %}
            </div>
            <!-- Show drawing in right panel -->
            <div>
                <img src="{{ question.drawing_jpeg }}" width="100%"/>
            </div>
        </div>
    </body>
</html>